import{a as N,b as Q}from"./chunk-QX6XNWST.js";import{a as U,b as G,c as q}from"./chunk-QS7DNA4J.js";import{c as K}from"./chunk-DZBXLIMA.js";import{l as J}from"./chunk-GOCLKD7P.js";import"./chunk-LCDFKFD4.js";import{e as F,g as W,j as H}from"./chunk-22G4YMMU.js";import{a as $,b as R}from"./chunk-OKFSPUCZ.js";import{$a as s,Ha as h,Ka as S,Nb as O,Pa as g,Qa as P,Ra as I,Sa as k,Ta as i,Ua as t,Ub as z,Va as w,W as E,Za as C,_a as u,ca as f,cb as M,da as x,jb as c,kb as v,lb as y,m as T,mb as B,nb as V,ob as A,qb as D,ra as b,ua as l,va as p,wb as L,xb as j}from"./chunk-6IM5EWE4.js";function X(n,a){n&1&&(i(0,"div",2),w(1,"p-progressSpinner",5),i(2,"span",6),c(3,"Loading..."),t()())}function Y(n,a){if(n&1){let e=C();i(0,"button",19),u("click",function(){f(e);let d=s(),r=s();return x(r.addToCart(d[0]))}),c(1," Already in cart "),t()}}function Z(n,a){if(n&1){let e=C();i(0,"button",20),u("click",function(){f(e);let d=s(),r=s();return x(r.addToCart(d[0]))}),c(1," Add to cart "),t()}}function tt(n,a){if(n&1){let e=C();i(0,"button",20),u("click",function(){f(e);let d=s(2);return x(d.orderProducts())}),c(1,"Order now"),t()}}function et(n,a){if(n&1&&(i(0,"p",18),c(1),t()),n&2){let e=a.$implicit;l(),v(e)}}function it(n,a){if(n&1&&(i(0,"p",18),c(1),t()),n&2){let e=a.$implicit;l(),v(e)}}function nt(n,a){if(n&1){let e=C();i(0,"p-card")(1,"div",7)(2,"img",8),u("click",function(){let d=f(e),r=s();return x(r.showModal(d[0].image_url))}),t(),i(3,"div")(4,"h1",9),c(5),t(),i(6,"p",10),c(7),t(),i(8,"h2",11),c(9),t(),i(10,"div",12),h(11,Y,2,0,"button",13)(12,Z,2,0)(13,tt,2,0,"button",14),t()()(),i(14,"h2",15),c(15,"Details: "),t(),i(16,"div",16)(17,"div")(18,"p",17),c(19,"Weight: "),t(),i(20,"p",18),c(21),t()(),i(22,"div")(23,"p",17),c(24,"Flavor profile:"),t(),I(25,et,2,1,"p",18,P),t(),i(27,"div")(28,"p",17),c(29,"Grind option:"),t(),I(30,it,2,1,"p",18,P),t()()()}if(n&2){let e=a,o=s();l(2),S("src",e[0].image_url,b)("alt",e[0].name),l(3),v(e[0].name),l(2),y("Description: ",e[0].description,""),l(2),y("",e[0].price,"$"),l(2),g(11,o.isProductInCart(e[0])?11:12),l(2),g(13,o.isProductInCart(e[0])?13:-1),l(8),v(e[0].weight),l(4),k(e[0].flavor_profile),l(5),k(e[0].grind_option)}}var ht=(()=>{let a=class a{constructor(o,d,r,m,_){this.productService=o,this.localStorageService=d,this.route=r,this.location=m,this.router=_,this.visible=!1,this.currentImg="",this.isLoading=!0,this.buttonActive=!0,this.addToCartButtonState="Add to cart"}ngOnInit(){this.getData()}getData(){this.id=+this.route.snapshot.params.id,this.productService.getProductsById(this.id).subscribe(o=>{this.product$=T(o),this.isLoading=!1})}addToCart(o){this.localStorageService.addToCart(o),this.addToCartButtonState="Already in cart",this.buttonActive=!1}orderProducts(){this.router.navigate(["/order"])}showModal(o){this.visible=!0,this.currentImg=o}closeModal(){this.visible=!1}goBack(){this.location.back()}isProductInCart(o){return this.localStorageService.getCartItems().some(r=>r.product.id===o.id)}};a.\u0275fac=function(d){return new(d||a)(p(q),p(H),p(F),p(O),p(W))},a.\u0275cmp=E({type:a,selectors:[["app-product"]],standalone:!0,features:[D],decls:10,vars:7,consts:[[1,"m-5"],[1,"back-button",3,"click"],[1,"flex","flex-column","justify-content-center","align-items-center"],["header","Coffee Bean",3,"visibleChange","visible","modal"],[2,"width","50vw",3,"src"],["ariaLabel","loading"],[1,"text-2xl"],[1,"flex","align-items-center"],["loading","lazy",1,"detail-img",3,"click","src","alt"],[1,"text-red-400","underline"],[1,"text-2xl","font-light"],[1,"text-red-400","text-4xl"],[1,"flex","gap-2"],[1,"disable-button"],[1,"add-to-cart"],[1,"text-center"],[1,"ml-8","flex","justify-content-center","gap-8","align-items-stretch","mx-8"],[1,"font-bold","text-xl","text-green-500"],[1,"text-xl"],[1,"disable-button",3,"click"],[1,"add-to-cart",3,"click"]],template:function(d,r){if(d&1&&(i(0,"div",0)(1,"button",1),u("click",function(){return r.goBack()}),c(2,"Back"),t()(),i(3,"div"),h(4,X,4,0,"div",2),t(),i(5,"div"),h(6,nt,32,8,"p-card"),L(7,"async"),t(),i(8,"p-dialog",3),A("visibleChange",function(_){return V(r.visible,_)||(r.visible=_),_}),w(9,"img",4),t()),d&2){let m;l(4),g(4,r.isLoading?4:-1),l(2),g(6,(m=j(7,5,r.product$))?6:-1,m),l(2),B("visible",r.visible),S("modal",!0),l(),M("src",r.currentImg,b)}},dependencies:[K,R,$,z,Q,N,J,G,U],styles:[".detail-img[_ngcontent-%COMP%]{width:50%;cursor:pointer;transition:all .5s ease-in-out}.detail-img[_ngcontent-%COMP%]:hover{transform:scale(1.05)}.add-to-cart[_ngcontent-%COMP%]{font-size:25px;border-radius:5px;background:#22c55e;padding:7px 20px;border:none;color:#fff;cursor:pointer;transition:all .1s ease-in-out}.add-to-cart[_ngcontent-%COMP%]:hover{transform:scale(1.05)}.disable-button[_ngcontent-%COMP%]{font-size:25px;border-radius:5px;background:#bebebe;padding:7px 20px;border:none;color:#000;cursor:auto}"]});let n=a;return n})();export{ht as ProductComponent};

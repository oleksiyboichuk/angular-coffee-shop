import{j as T}from"./chunk-22G4YMMU.js";import{$a as m,Ha as v,Ka as S,Pa as b,Qa as h,Ra as k,Sa as P,Ta as n,Ua as a,Va as f,W as _,Za as y,_a as g,ca as u,da as p,jb as r,kb as d,lb as I,qb as w,ra as x,ua as l,va as C}from"./chunk-6IM5EWE4.js";function M(i,o){i&1&&(n(0,"p"),r(1,"Cart is empty..."),a())}function O(i,o){if(i&1&&(n(0,"div")(1,"p",1),r(2,"Total price: "),n(3,"span",2),r(4),a()()()),i&2){let e=m();l(4),I("",e.totalPrice,"$")}}function E(i,o){if(i&1){let e=y();n(0,"div",0),f(1,"img",3),n(2,"p",4),r(3),a(),n(4,"p",5),r(5,"Price: "),n(6,"span",6),r(7),a()(),n(8,"p",5),r(9,"Count: "),n(10,"span",6),r(11),a()(),n(12,"p",5),r(13,"Total: "),n(14,"span",6),r(15),a()(),n(16,"button",7),g("click",function(){let c=u(e).$implicit,s=m();return p(s.plusCart(c.id))}),r(17,"+"),a(),n(18,"button",8),g("click",function(){let c=u(e).$implicit,s=m();return p(s.minusCart(c.id))}),r(19,"-"),a(),n(20,"button",9),g("click",function(){let c=u(e).$implicit,s=m();return p(s.removeFromCart(c.id))}),f(21,"i",10),a()()}if(i&2){let e=o.$implicit,t=m();l(),S("src",e==null?null:e.image_url,x)("alt",e==null?null:e.name),l(2),d(e.name),l(4),d(e==null?null:e.price),l(4),d(t.count[e.id]),l(4),d(e.price*t.count[e.id])}}var z=(()=>{let o=class o{constructor(t){this.localStorageService=t,this.count={},this.totalPrice=this.localStorageService.calcTotalPrice()}ngOnInit(){this.getProducts(),this.cartSubscription=this.localStorageService.cartItemsChanged.subscribe(()=>{this.getProducts(),this.calculateTotalPrice()})}ngOnDestroy(){this.cartSubscription.unsubscribe()}getProducts(){this.localStorageService.getCartItems().forEach(t=>{this.count[t.product.id]=t.count}),this.products=this.localStorageService.getCartItems().map(t=>t.product)}plusCart(t){this.localStorageService.increaseCartItemQuantity(t)}minusCart(t){this.localStorageService.decreaseCartItemQuantity(t)}removeFromCart(t){this.localStorageService.removeAllItemsById(t)}calculateTotalPrice(){this.totalPrice=this.localStorageService.calcTotalPrice()}};o.\u0275fac=function(c){return new(c||o)(C(T))},o.\u0275cmp=_({type:o,selectors:[["app-cart"]],standalone:!0,features:[w],decls:5,vars:1,consts:[[1,"flex","gap-8","align-items-center","justify-content-between","cart-block"],[1,"font-bold","text-2xl"],[1,"text-green-400"],["loading","lazy",1,"cart-img",3,"src","alt"],[1,"border-bottom-2","font-bold","text-red-200"],[1,"font-bold"],[1,"font-light"],[1,"plus-cart",3,"click"],[1,"minus-cart",3,"click"],[1,"delete-from-cart",3,"click"],[1,"pi","pi-trash"]],template:function(c,s){c&1&&(n(0,"div"),v(1,M,2,0,"p")(2,O,5,1),k(3,E,22,6,"div",0,h),a()),c&2&&(l(),b(1,s.products.length===0?1:2),l(2),P(s.products))},styles:[".cart-img[_ngcontent-%COMP%]{width:10%}.cart-block[_ngcontent-%COMP%]{max-width:1200px}.plus-cart[_ngcontent-%COMP%]{background:var(--main-green);font-size:20px;border:none;border-radius:5px;transition:all .2s ease-in-out;cursor:pointer}.plus-cart[_ngcontent-%COMP%]:hover{transform:scale(1.05);background:var(--main-green-dark);color:#fff}.plus-cart[_ngcontent-%COMP%]:active{transform:scale(1);background:var(--main-green)}.minus-cart[_ngcontent-%COMP%]{padding:0 8px;background:var(--main-yellow);font-size:20px;border:none;border-radius:5px;transition:all .2s ease-in-out;cursor:pointer}.minus-cart[_ngcontent-%COMP%]:hover{transform:scale(1.05);background:var(--main-yellow-dark);color:#fff}.minus-cart[_ngcontent-%COMP%]:active{transform:scale(1);background:var(--main-yellow)}.delete-from-cart[_ngcontent-%COMP%]{background:var(--main-red-light);color:#fff;font-size:20px;border:none;border-radius:5px;transition:all .2s ease-in-out;cursor:pointer}.delete-from-cart[_ngcontent-%COMP%]:hover{transform:scale(1.05);background:var(--main-red-dark);color:#fff}.delete-from-cart[_ngcontent-%COMP%]:active{transform:scale(1);background:var(--main-red)}"]});let i=o;return i})();export{z as a};

import{a as J,b as K,c as X}from"./chunk-QS7DNA4J.js";import{a as H,b as N}from"./chunk-7IRLIX3Q.js";import{k as Q,l as W}from"./chunk-GOCLKD7P.js";import"./chunk-LCDFKFD4.js";import{e as q,h as B,j as Y}from"./chunk-22G4YMMU.js";import{a as U,b as G}from"./chunk-OKFSPUCZ.js";import{$a as p,Ha as u,Ka as f,Na as I,Pa as g,Qa as T,Ra as M,Sa as w,Ta as a,Ua as s,Ub as A,Va as l,Vb as R,W as y,Za as C,_a as h,bc as b,ca as v,cb as L,da as x,db as F,jb as _,kb as E,lb as O,m as S,pb as V,q as P,qb as $,ra as k,rb as j,ua as c,va as m,wb as z,xb as D}from"./chunk-6IM5EWE4.js";var Z=()=>({width:"260px",height:"196px"});function ee(i,n){i&1&&(a(0,"div",0),l(1,"p-progressSpinner",4),a(2,"span",5),_(3,"Loading..."),s()())}function te(i,n){if(i&1){let r=C();a(0,"div",1)(1,"input",6),h("input",function(t){v(r);let o=p();return x(o.searchProduct(t))}),s()()}}function ie(i,n){i&1&&(a(0,"button",13),l(1,"i",16),s()),i&2&&f("disabled",!0)}function re(i,n){if(i&1){let r=C();a(0,"button",17),h("click",function(t){v(r);let o=p().$implicit,d=p();return x(d.addToLiked(t,o))}),l(1,"i",18),s()}if(i&2){let r=p(2);f("disabled",r.disabled)}}function oe(i,n){i&1&&l(0,"i",15)}function ne(i,n){i&1&&l(0,"i",19)}function ae(i,n){if(i&1){let r=C();a(0,"a",3)(1,"div",7)(2,"p-card",8),l(3,"img",9),a(4,"div",10)(5,"p",11),_(6),s(),a(7,"p"),_(8),s()(),a(9,"div",10)(10,"p"),_(11,"Add:"),s(),a(12,"div",12),u(13,ie,2,1,"button",13)(14,re,2,1),a(15,"button",14),h("click",function(t){let o=v(r).$implicit,d=p();return x(d.addToCart(t,o))}),u(16,oe,1,0,"i",15)(17,ne,1,0),s()()()()()()}if(i&2){let r=n.$implicit,e=p();F("routerLink","detail/",r.id,""),c(2),L("header",r.name),c(),I(j(12,Z)),f("src",r.image_url,k)("alt",r.name),c(3),O("",r.price,"$"),c(2),E(r.region),c(5),g(13,e.isProductInLiked(r)?13:14),c(2),f("disabled",e.isProductInCart(r)),c(),g(16,e.isProductInCart(r)?16:17)}}var Ie=(()=>{let n=class n{constructor(e,t,o,d){this.productService=e,this.localStorageService=t,this.messageService=o,this.activatedRoute=d,this.isLoading=!0,this.disabled=!1}ngOnInit(){this.getData(),this.activatedRoute.queryParams.subscribe(e=>{e.showMessage&&this.messageService.add({severity:"success",summary:"Service Message",detail:"Via MessageService"})})}getData(){this.productService.getProducts().subscribe(e=>{this.products$=S(e),this.isLoading=!1})}addToLiked(e,t){e.preventDefault(),e.stopPropagation(),this.localStorageService.addToLiked(t),this.messageService.add({severity:"success",summary:`${t.name}`,detail:"Has been added to the like"})}addToCart(e,t){e.preventDefault(),e.stopPropagation(),this.localStorageService.addToCart(t),this.messageService.add({severity:"success",summary:`${t.name}`,detail:"Has been added to the cart"})}isProductInLiked(e){return this.localStorageService.getLikedProducts().some(o=>o.id===e.id)}isProductInCart(e){return this.localStorageService.getCartItems().some(o=>o.product.id===e.id)}searchProduct(e){if(e&&e.target){let t=e.target.value.trim();t===""&&(this.products$=this.productService.getProducts()),t.length>=2&&(this.products$=this.productService.getProducts().pipe(P(o=>o.filter(d=>d.name.toLowerCase().includes(t)||d.description.toLowerCase().includes(t)))))}}};n.\u0275fac=function(t){return new(t||n)(m(X),m(Y),m(b),m(q))},n.\u0275cmp=y({type:n,selectors:[["app-products"]],standalone:!0,features:[V([b]),$],decls:8,vars:4,consts:[[1,"flex","flex-column","justify-content-center","align-items-center"],[1,"flex","justify-content-start","mt-5","ml-8","align-items-center"],[1,"product-field"],[3,"routerLink"],["ariaLabel","loading"],[1,"text-2xl"],["type","text","pInputText","","name","email","placeholder","Find some products...",1,"",3,"input"],[1,"product-block","hover:shadow-7"],[3,"header"],["loading","lazy",1,"border-bottom-3","border-black-alpha-10",3,"src","alt"],[1,"flex","justify-content-between","align-items-center"],[1,"font-bold","text-xl","text-red-400"],[1,"flex","align-items-center","gap-5"],[1,"bg-red-400","px-2","border-round","product-button",3,"disabled"],[1,"bg-green-400","px-2","border-round","product-button",3,"click","disabled"],[1,"pi","pi-check-square","py-1",2,"font-size","1.1rem","color","#fff"],[1,"pi","pi-heart-fill","py-1",2,"font-size","1.1rem","color","#fff"],[1,"bg-black-alpha-60","px-2","border-round","product-button",3,"click","disabled"],[1,"pi","pi-heart","py-1",2,"font-size","1.1rem","color","#fff"],[1,"pi","pi-shopping-cart","py-1",2,"font-size","1.1rem","color","#fff"]],template:function(t,o){t&1&&(a(0,"div"),u(1,ee,4,0,"div",0),s(),u(2,te,2,0,"div",1),a(3,"div",2),M(4,ae,18,13,"a",3,T),z(6,"async"),s(),l(7,"p-toast")),t&2&&(c(),g(1,o.isLoading?1:-1),c(),g(2,o.isLoading?-1:2),c(2),w(D(6,2,o.products$)))},dependencies:[R,A,G,U,B,K,J,W,Q,N,H],styles:[".product-field[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center;align-items:center;margin:50px 0}.product-field[_ngcontent-%COMP%]   .product-block[_ngcontent-%COMP%]{max-width:300px;margin:10px;cursor:pointer;transition:all .3s ease-in-out}.product-field[_ngcontent-%COMP%]   .product-block[_ngcontent-%COMP%]:hover{transform:scale(1.03)}a[_ngcontent-%COMP%]{text-decoration:none}.product-button[_ngcontent-%COMP%]{border:none;cursor:pointer}.red[_ngcontent-%COMP%]{background:red}"]});let i=n;return i})();export{Ie as ProductsComponent};

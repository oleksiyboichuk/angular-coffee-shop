import{a as V}from"./chunk-63JQPD66.js";import{a as N,b as E}from"./chunk-7IRLIX3Q.js";import{b as G,c as R}from"./chunk-DZBXLIMA.js";import{a as O,b as f,c as I,d as M,e as q,f as k,g as w,h as j,i as D,j as B,k as P,l as A}from"./chunk-GOCLKD7P.js";import"./chunk-LCDFKFD4.js";import{g as b,j as h}from"./chunk-22G4YMMU.js";import{a as T,b as S}from"./chunk-OKFSPUCZ.js";import{$a as _,Ha as s,Ka as x,Na as y,Pa as d,Ta as r,Ua as i,Va as c,W as v,_a as C,jb as m,qb as g,rb as F,ua as l,va as p}from"./chunk-6IM5EWE4.js";var J=()=>({width:"360px"});function K(e,t){e&1&&(r(0,"div"),m(1,"Name is required"),i())}function Q(e,t){e&1&&(r(0,"div"),m(1,"Enter a valid name"),i())}function U(e,t){if(e&1&&(r(0,"small",5),s(1,K,2,0,"div")(2,Q,2,0,"div"),i()),e&2){let a=_();l(),d(1,a.fullName.errors!=null&&a.fullName.errors.required?1:-1),l(),d(2,a.fullName.errors!=null&&a.fullName.errors.pattern?2:-1)}}function W(e,t){e&1&&(r(0,"div"),m(1,"Email is required"),i())}function X(e,t){e&1&&(r(0,"div"),m(1,"Email should be valid"),i())}function Y(e,t){if(e&1&&(r(0,"small",5),s(1,W,2,0,"div")(2,X,2,0,"div"),i()),e&2){let a=_();l(),d(1,a.email.errors!=null&&a.email.errors.required?1:-1),l(),d(2,a.email.errors!=null&&a.email.errors.email?2:-1)}}function ee(e,t){e&1&&(r(0,"div"),m(1,"Number is required"),i())}function te(e,t){if(e&1&&(r(0,"small",5),s(1,ee,2,0,"div"),i()),e&2){let a=_();l(),d(1,a.number.errors!=null&&a.number.errors.required?1:-1)}}var L=(()=>{let t=class t{constructor(u,o,n){this.fb=u,this.localStorageService=o,this.router=n,this.registerForm=this.fb.group({fullName:["",[f.required,f.pattern(/^[a-zA-Z]+(?: [a-zA-Z]+)*$/)]],email:["",[f.required,f.email]],number:["",[f.required,f.pattern(/^\+?3?8?(0\d{9})$/)]]},{})}get fullName(){return this.registerForm.controls.fullName}get email(){return this.registerForm.controls.email}get number(){return this.registerForm.controls.number}submitDetails(){this.localStorageService.clearCart(),this.router.navigate(["/products"],{queryParams:{showMessage:!0}})}};t.\u0275fac=function(o){return new(o||t)(p(D),p(h),p(b))},t.\u0275cmp=v({type:t,selectors:[["app-order-form"]],standalone:!0,features:[g],decls:18,vars:8,consts:[[3,"ngSubmit","formGroup"],["header","Please enter your data:"],[1,"field"],["for","fullName"],["type","text","pInputText","","formControlName","fullName","name","fullName","placeholder","Type your name",1,"w-full"],[1,"block","p-error"],["for","email"],["type","text","pInputText","","formControlName","email","name","email","placeholder","Type your name",1,"w-full"],["for","number"],["type","number","pInputText","","formControlName","number","name","number","placeholder","Type your number",1,"w-full"],["label","Order","styleClass","w-full bg-green-400","type","submit",3,"disabled"]],template:function(o,n){o&1&&(r(0,"form",0),C("ngSubmit",function(){return n.submitDetails()}),r(1,"p-card",1)(2,"div",2)(3,"label",3),m(4,"Name"),i(),c(5,"input",4),s(6,U,3,2,"small",5),i(),r(7,"div",2)(8,"label",6),m(9,"Email"),i(),c(10,"input",7),s(11,Y,3,2,"small",5),i(),r(12,"div",2)(13,"label",8),m(14,"Phone number"),i(),c(15,"input",9),s(16,te,2,1,"small",5),i(),c(17,"p-button",10),i()()),o&2&&(x("formGroup",n.registerForm),l(),y(F(7,J)),l(5),d(6,n.fullName.invalid&&n.fullName.dirty||n.fullName.touched?6:-1),l(5),d(11,n.email.invalid&&n.email.dirty||n.email.touched?11:-1),l(5),d(16,n.number.invalid&&n.number.dirty||n.number.touched?16:-1),l(),x("disabled",n.registerForm.invalid))},dependencies:[B,q,O,k,I,M,w,j,S,T,A,P,R,G]});let e=t;return e})();function ie(e,t){e&1&&c(0,"app-order-form")}var _e=(()=>{let t=class t{constructor(u,o){this.localStorageService=u,this.router=o}ngOnInit(){this.getProducts()}getProducts(){this.products=this.localStorageService.getCartItems().map(u=>u.product)}goBack(){this.router.navigate(["/products"])}};t.\u0275fac=function(o){return new(o||t)(p(h),p(b))},t.\u0275cmp=v({type:t,selectors:[["app-order"]],standalone:!0,features:[g],decls:10,vars:1,consts:[[1,"m-5"],[1,"back-button",3,"click"],[1,"flex","justify-content-center","align-items-center","text-red-200","underline"],[1,"flex","justify-content-center"],[1,"flex","justify-content-center","align-items-center","mt-5","mb-5"]],template:function(o,n){o&1&&(r(0,"div",0)(1,"button",1),C("click",function(){return n.goBack()}),m(2,"Back to products"),i()(),r(3,"h1",2),m(4,"Order now!"),i(),r(5,"div",3),c(6,"app-cart"),i(),r(7,"div",4),s(8,ie,1,0,"app-order-form"),i(),c(9,"p-toast")),o&2&&(l(8),d(8,n.products.length!==0?8:-1))},dependencies:[S,V,L,E,N]});let e=t;return e})();export{_e as OrderComponent};
